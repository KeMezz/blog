---
emoji: π®
title: Typescript and functions
date: "2022-12-06"
tags: ["κ°λ°", "typescript"]
slug: 2212061
---

> λ…Έλ§λ“μ½”λ”μ 'Typescriptλ΅ λΈ”λ΅μ²΄μΈ λ§λ“¤κΈ°' κ°•μλ¥Ό κΈ°λ°μΌλ΅ μ •λ¦¬ν• λ¬Έμ„μ…λ‹λ‹¤. μ •λ§ μΆ‹μ€ λ¬΄λ£ κ°•μλ‹κΉ κ΄€μ‹¬ μμΌμ‹λ©΄ κΌ­ ν• λ² λ³΄μ‹κΈΈ μ¶”μ²ν•©λ‹λ‹¤!

## call signature

ν•¨μλ¥Ό μ–΄λ–»κ² νΈμ¶ν•΄μ•Ό ν•λ”μ§€, μ–΄λ–¤ νƒ€μ…μ„ λ°ν™ν•λ”μ§€λ¥Ό μ •μν• κ²ƒμ„ call signatureλΌκ³  λ¶€λ¥Έλ‹¤.

```typescript
type Add = (a: number, b: number) => number;
const add: Add = (a, b) => a + b;
```

μ„μ²λΌ type aliasλ¥Ό ν†µν•΄ λ―Έλ¦¬ μ •μν•΄λ‘λ©΄ ν•¨μλ¥Ό μ„ μ–Έν•  λ• νƒ€μ…μ„ λ―Έλ¦¬ μ§€μ •ν•΄λ‘ μ μμΌλ―€λ΅, νƒ€μ…μ„ λ¨Όμ € μƒκ°ν•λ©΄μ„ μ½”λ“λ¥Ό κµ¬ν„ν•  μ μλ‹¤.

## overloading

overloadingμ€ ν•¨μκ°€ μ„λ΅ λ‹¤λ¥Έ μ—¬λ¬ κ°μ call signatureλ¥Ό κ°€μ§€κ³  μμ„ λ• λ°μƒν•λ‹¤. μ§μ ‘ μ‚¬μ©ν•  μΌμ΄ λ§μ§€ μ•μ„ μλ„ μμ§€λ§, λ€λ¶€λ¶„μ npm λΌμ΄λΈλ¬λ¦¬λ” overloadingμ„ μ‚¬μ©ν•λ―€λ΅ μ•μ•„λ‘ ν•„μ”κ°€ μλ‹¤.

```typescript
// in Next.js environment
Router.push("/home");
Router.push({
  path: "/home",
  state: 1,
});
```

Next.jsμ—μ„ μ‚¬μ©ν•λ” Routerλ„ λ€ν‘μ μΈ overloadingμ μμ‹μ΄λ‹¤. Routerμ νλΌλ―Έν„°λ” stringλ§ μ…λ ¥ν•΄λ„ μ‘λ™ν•μ§€λ§, λ―Έλ¦¬ μ •ν•΄μ§„ μ¤λΈμ νΈ ν•μ‹μΌλ΅ μ…λ ¥ν•΄λ„ μ μ‘λ™ν•λ‹¤.

```typescript
type Config = {
  path: string;
  state: any;
};

type Push = {
  (path: string): void;
  (config: Config): void;
};

const push: Push = (config) => {
  if (typeof config === "string") {
    console.log(config); // config is string here.
  } else {
    console.log(config.path); // config is object(Config) here.
    console.log(config.state);
  }
};
```

μ‹¤μ  Routerμ™€λ” λ‹¤λ¥Έ λ¶€λ¶„μ΄ μμ§€λ§, λΌμ΄λΈλ¬λ¦¬ λ‚΄λ¶€μ μΌλ΅λ” μ΄λ° μ‹μΌλ΅ overloadingμ„ μ‚¬μ©ν•μ—¬ νƒ€μ…μ„ μ •μν–μ„ κ²ƒμ΄λ‹¤.

```typescript
type Add = {
  (a: number, b: number): number;
  (a: number, b: number, c: number): number;
};

const add: Add = (a, b, c?: number) => {
  if (c) return a + b + c;
  return a + b;
};

add(1, 2);
add(1, 2, 3);
```

μ•„λ‹λ©΄ μ΄μ²λΌ νλΌλ―Έν„°μ κ°μκ°€ λ‹¬λΌμ§€λ” κ²½μ°λ„ overloadingμ— ν•΄λ‹Ήν•λ‹¤. μ„λ΅ λ‹¤λ¥Έ κ°μμ νλΌλ―Έν„°λ¥Ό λ°›λ” ν•¨μμ κ²½μ°μ—λ” μ¶”κ°€ νλΌλ―Έν„°μ— λ€ν•΄μ„λ„ λ°λ“μ‹ νƒ€μ…μ„ μ§€μ •ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤. νλΌλ―Έν„°μ κ°μκ°€ λ‹¬λΌμ§„λ‹¤λ” κ²ƒμ€ κ²°κµ­ λ‡ κ°€μ§€ νλΌλ―Έν„°λ” optionalν•κ² λ“¤μ–΄μ¨λ‹¤λ” λ»μΈλ°, μ„μ μμ μ—μ„λ” νλΌλ―Έν„° cκ°€ μ΄μ— ν•΄λ‹Ήν•λ‹¤. μ΄λ° κ²½μ°μ—λ” λ°λ“μ‹ cκ°€ optionalν•κ² λ“¤μ–΄μ¬ μ μλ” number νƒ€μ…μ΄λΌλ” μ‚¬μ‹¤μ„ ν•¨μ μ„ μ–Έ μ‹ κΈ°μ¬ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.

## polymorphism

λ‹¤ν•μ„±(polymorphism)μ΄λ€, μ•μ„ overloadingμ—μ„ μ‚΄ν΄λ³Έ κ²ƒμ²λΌ νλΌλ―Έν„°μ ν•νƒκ°€ λ‹¬λΌμ§€κ±°λ‚, κ°μκ°€ λ‹¬λΌμ§€λ” κ²½μ° λ“± ν•¨μκ°€ λ‹¤μ–‘ν• ν•νƒμ νλΌλ―Έν„°λ¥Ό ν¬μ©ν•  μ μλ” νΉμ„±μ„ λ§ν•λ‹¤. μλ¥Ό λ“¤μ–΄, μ–΄λ–¤ λ°°μ—΄μ΄λ“  μ½μ†”μ— κ·Έ λ‚΄μ©μ„ μ „λ¶€ μ¶λ ¥μ‹ν‚¤λ” ν•¨μλ¥Ό λ§λ“ λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.

```typescript
type SuperPrint = {
  <T>(arr: T[]): void;
};

const superPrint: SuperPrint = (arr) => {
  arr.forEach((i) => console.log(i));
};

superPrint([true, false, true]);
superPrint([1, 2, 3, 4]);
superPrint(["a", "b", "c"]);
superPrint(["1", "a", true, 9]);
```

μ—¬κΈ°μ„ `<T>` λ” μ λ„¤λ¦­ νƒ€μ…μ„ μλ―Έν•λ”λ°, μ„μ²λΌ μ‘μ„±ν•λ©΄ λ¨λ“  μƒν™©μ— λ€ν• call signatureλ¥Ό μ‘μ„±ν•΄μ¤„ ν•„μ” μ—†μ΄ νƒ€μ…μ¤ν¬λ¦½νΈκ°€ μ•μ•„μ„ νλΌλ―Έν„°λ΅ μ…λ ¥λ κ°’μ„ ν†µν•΄ μ μ—°ν•κ² νƒ€μ…μ„ μ¶”λ΅ ν•λ‹¤. κΊ½μ‡„ μ•μ— λ“¤μ–΄κ°€λ” λ¬Έμλ” λ€λ¬Έμλ΅ μ‹μ‘ν•λ‹¤λ©΄ μ–΄λ–¤ κ²ƒμ΄ λλ„ μƒκ΄€ μ—†λ‹¤. (μ£Όλ΅ μμ‹μ²λΌ `<T>`λ¥Ό λ§μ΄ μ‚¬μ©ν•λ‹¤.)

```typescript
type SuperPrint = {
  <T>(arr: T[]): T;
};

const superPrint: SuperPrint = (arr) => arr[0];

const a = superPrint([true, false, true]); // a is type of boolean
const b = superPrint([1, 2, 3, 4]); // b is type of number
const c = superPrint(["a", "b", "c"]); // c is type of string
const d = superPrint(["1", "a", true, 9]); // d is type of string|boolean|number
```

μΆ€ λ” μ•κΈ° μ‰½κ² μ„¤λ…ν•μλ©΄ μ„μ™€ κ°™λ‹¤. κ²°κ³Ό νƒ€μ…μ„ κ°™μ€ λ¬Έλ§¥μ μ λ„¤λ¦­μΌλ΅ λ³€κ²½ν•κ³ , κ° λ°°μ—΄μ μ²« λ²μ§Έ μΈμλ¥Ό λ¦¬ν„΄ν•λ” ν•¨μλ΅ λ³€κ²½ν•μ€μ„λ•, νƒ€μ…μ¤ν¬λ¦½νΈλ” ν•¨μ κ²°κ³Ό νƒ€μ…μ„ μ„μ™€ κ°™μ΄ μ¶”λ΅ ν•λ‹¤.

## generics

```typescript
type SuperPrint = <T, M>(arr: T[], b: M) => T;

const superPrint: SuperPrint = (arr) => arr[0];

const a = superPrint([true, false, true], "x");
const b = superPrint([1, 2, 3, 4], 1);
const c = superPrint(["a", "b", "c"], false);
const d = superPrint(["1", "a", true, 9], []);
```

μ„μ²λΌ μ—¬λ¬ κ°μ μ λ„¤λ¦­ νƒ€μ…μ„ μ‚¬μ©ν•  μλ„ μλ‹¤. νλΌλ―Έν„°λ΅μ„ μ…λ ¥ λ°›μ€ κ°’μ— μν•΄ νƒ€μ…μ„ μ¶”λ΅ ν•κΈ° λ•λ¬Έμ— μ„¤λ…ν•  ν•„μ” μ—†μ΄ κΊ½μ‡„ μ•μ—μ„ μ λ„¤λ¦­ μ‚¬μ©μ„ μ„ μ–Έν• λ’¤ μμ„λ§ μ μ§€μ •ν•΄μ¤€λ‹¤λ©΄ λ¬Έμ  μ—†μ΄ λ™μ‘ν•  κ²ƒμ΄λ‹¤.

```typescript
type Player<E> = {
  name: string;
  extraInfo: E;
};

const nico: Player<{ favFood: string }> = {
  name: "nico",
  extraInfo: { favFood: "kimchi" },
};
```

μ΄λ²μ—” μ΅°κΈ λ‹¤λ¥Έ μμ‹λ¥Ό λ“¤μ–΄λ³΄μλ©΄, μ λ„¤λ¦­μ€ νλΌλ―Έν„°μ²λΌ ν™μ©ν•  μλ„ μλ‹¤. PlayerλΌλ” νƒ€μ…μ—μ„ extraInfoλ” μ λ„¤λ¦­ νƒ€μ…μ΄λΌκ³  κ°€μ •ν•΄λ³΄κ² λ‹¤. κ·Έλ¬λ©΄ μ„μ²λΌ Player νƒ€μ…μ„ ν†µν•΄ μƒλ΅μ΄ κ°μ²΄λ¥Ό μ„ μ–Έν•  λ•, μ λ„¤λ¦­μ— μ›ν•λ” ν•μ‹μ„ μ§€μ •ν•μ—¬ μ„ μ–Έν•λ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤.

```typescript
type Player<E> = {
  name: string;
  extraInfo: E;
};

type NicoExtra = { favFood: string };

const nico: Player<NicoExtra> = {
  name: "nico",
  extraInfo: {
    favFood: "kimchi",
  },
};

const lynn: Player<string> = {
  name: "lynn",
  extraInfo: "strong",
};

const hyeongjin: Player<null> = {
  name: "hyeongjin",
  extraInfo: null,
};
```

μ΅°κΈ λ” μ •λ¦¬ν•μλ©΄ μ„μ™€ κ°™λ‹¤. μ²« μμ‹λ΅ κ°μ²΄λ¥Ό λ“¤μ—μ„ λΏ, lynn playerμ²λΌ stringμ΄ μ¬ μλ„ μκ³ , hyeongjinμ²λΌ nullμ΄ μ¬ μλ„ μλ‹¤. μ λ„¤λ¦­μ΄κΈ° λ•λ¬Έμ— μ…λ ¥λ°›μ€ μ–΄λ–¤ νƒ€μ…μ΄λ“  κ°€λ¥ν•λ‹¤.

```typescript
function printAllNumbers(arr: Array<number>) {
  arr.forEach((i) => console.log(i));
}
```

λ‹¤λ¥Έ μμ‹. Arrayλ„ λ‚΄λ¶€μ μΌλ΅λ” μ λ„¤λ¦­μ„ λ°›κΈ° λ•λ¬Έμ— μ„μ²λΌ μ‚¬μ©ν•  μλ„ μλ‹¤. `number[]`μ™€ `Array<number>`λ” κΈ°λ³Έμ μΌλ΅ λ™μΌν• μλ―Έκ°€ λλ‹¤. μ λ„¤λ¦­μ€ μ΄λ° μ‹μΌλ΅ μ •λ§ λ§μ΄ μ‚¬μ©ν•κ² λλ‹¤.
